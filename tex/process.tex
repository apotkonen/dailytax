%------------------------------------------------------------------------------
%
%	process.tex Document process part
%
%	INCLUDE FILE FOR LaTeX2e DOCUMENT
%
%	AUTHOR: Ari Potkonen /JARVENPAA/ Mon Jun 28 2022
%------------------------------------------------------------------------------
%         1         2         3         4         5         6         7
%123456789012345678901234567890123456789012345678901234567890123456789012345678
%-BEGIN OF INCLUDE FILE--------------------------------------------------------
\chapter{Process}
\label{process}
\index{process}
This document is mostly created from need to digitalize existing digitized
processes; in practice meaning simplification and automation of processes into
new digital environment. Taking into account possible optimizations from user
experience perspective what can be done now using these digital technologies.

In practice we have to combine normal citizen income taxing and social support
allowances to serve stability and safety for people most economically effective
way as possible. It is worth to ponder how simple taxation, support and legal
system could be if more elaborate models are used. 

Really good thing here is that there has been government Enterprice
Architecture (EA) running for a while, and we have some public documentation
available to discuss from area.

It's really important that architecture,
processesses and interfaces are publicly defined. It makes possible to
subcontract needed components from several vendors or from consortions offering
bigger subintegrations for needed solution.


\section{Income sources}
\label{income_sources}
\index{income sources}
Peoples have some personal income sources like; wage, pension, insurance,
interest, dividend, rental, sale and/or social support income.
Normally from these incomes have several details available;
payer, withholding, paid, period start, end, payment date and place.
Depending on from local laws these are taxed differently,
and political processes are used to change these classifications to differently taxed incomes.
It's good to ponder should these different income sources be combined together as one
or should we keep those separate and maybe check does these income classes,
event streams still using same daily taxation technology.

\section{Interfaces and integration}
\label{interfaces_and_integration}
\index{interfaces and integration}
Daily taxation needs; income account into some bank, and met-hod to transfer details,
from income along transaction or as separate data transaction.
Here local government save income details into register.
Same register can hold different income class event details,
taxed differently due political reasons.
For yearly cycled taxation this register solution is enough
when employer or other income source does withhold tax before payment
and tax payment clearing, small corrections, are done yearly afterward.
For daily tax there also has to have access to income bank account
for taxman automatic taxation process,
because idea is to serve social support and continuity
with this automated daily process.

\section{Layering and geographic segmentation}
\label{tax_layering}
\index{tax layering}
Practical taxation process is quite different than what presented on simplistic theory chapter.
This because there are different communities having taxation rights;
municipality, religion communities, regional healthcare, state and union.
Each of these have humanistic behaviors leading to solution where they have to be directly responsible to taxpayers.
Even this responsibility is good it's already lead to segregation.
From industrial areas around main roads or with sea connection
and having migration win to remote agriculture
and forestry periphery municipalities having migration loss.
There are some improvements to this development like Green New Deal induced wind power,
solar power and other similar investments bringing big property tax incomes for municipalities.
Municipalities not yet got to new wind power or other improving investments
are forced to take high income tax to maintain economy.
South coastal cities have a lot of community incomes
and cites along major logistic channels are also performing well.
Few places are famous from high average income and low tax,
which itself attract peoples having high income to manage elevated property prices on those places.
Then there is small municipality having new wind power installation and attractive environment
for holiday settlements has performed better than other agricultural forest areas.
Technically it would be easiest to take taxes with same tax function fitting from all
and then divide money for communities having taxation rights.
Anyhow, this could lead to situation where taxed money is overused
and that way taxed money is kept on own municipality area.
This leads to ineffective operation.
New social security reform leads to province level taxation because this responsibility need
and legislation to manage this situation even now province level taxes are taken along with national tax.
Practice means that we have to have input parameters;
social security support, income, age, municipality, community, national (pro\-vin\-ce, state, union)
and consumer price index ratio for tax fitting function definition.
Most likely there has to be several tax fittings for different parameter combinations.

Figure \ref{fig:muntax} on page \pageref{fig:muntax}
shows municipality tax fitting, which margin is around 10\%. 
\begin{figure} %[p] %[H] %\usepackage{float}
 \begin{center}
  \epsfig{figure=figures/muntax.eps,width=\textwidth}
  \caption{Municipality tax}
  \label{fig:muntax}
 \end{center}
\end{figure}
Figure \ref{fig:govtax} on page \pageref{fig:govtax}
replaces stepwise governmental tax with fitting having margin just below 50\%.
You could compare to (Viitam\"aki\cite{VM_46_2019} p.35 Figure 3).
\begin{figure} %[p] %[H] %\usepackage{float}
 \begin{center}
  \epsfig{figure=figures/govtax.eps,width=\textwidth}
  \caption{Government tax}
  \label{fig:govtax}
 \end{center}
\end{figure}
Figure \ref{fig:govtax} on page \pageref{fig:govtax}
show how municipality tax and government tax can be summed up to income tax
still filling original requirements set for tax function.
\begin{figure} %[p] %[H] %\usepackage{float}
 \begin{center}
  \epsfig{figure=figures/sumtax.eps,width=\textwidth}
  \caption{Municipality and government tax sum}
  \label{fig:sumtax}
 \end{center}
\end{figure}

\section{Taxing process}
\label{tax_process}
\index{tax process}
Created taxing model is applied daily using past 365 days sliding tax clearing window.
Process is repeated each day.
Current yearly taxing practice means that you have responsibility to fill in;
income, age, health insurance, unemployment insurance, pension insurance,
municipality tax, community tax, state (radio, province, state, union) events
in even this in normally near fully automated process so that employer
and tax officials feed this information in.
In new daily process this automaton is taken further.
Income from certain period is distributed over period days and taxed daily.
This is done automatically even information completeness responsibility is still on taxpayer's side.
New normal taxation figure \ref{fig:taxing} on page \pageref{fig:taxing}
show that you have possibility to feed in income, reduction
and other tax related events in from last 365 days period,
automatic calculation updates situation daily.
Figure shows only work income event handling,
but same system is used for all taxation relevant events person encounters.
Older and than 365 events are cleared like if you have forgotten to do.
Big lump sums developed beyond that 365 days limit,
for example from longer period work could be divided to further 1095 days
and withholding is done against existing known tax functions,
then fixed daily with latest up-to-date tax information day by day.
If tax function is changed for higher tax and consumer price index,
inflation corrected withholding is not enough to fill that gap,
then is risk is that without any other income than daily support there could be tax debt cumulating,
still citizen should get \char"2154~from net support even under tax dept distraint,
see figure \ref{fig:SocialSu} on page \pageref{fig:SocialSu}.
%$\text{\char"2154}$$\frac{2}{3}$ %\sfrac{2}{3}\texttwothird$\nicefrac{2}{3}$
\begin{figure} %[p] %[H] %\usepackage{float}
 \begin{center}
  \epsfig{figure=figures/taxing.eps,width=\textwidth}
  \caption{Sliding 365 days window daily tax}
  \label{fig:taxing}
 \end{center}
\end{figure}

\section{Calculation complexity}
\label{calculation_complexity}
\index{calculation complexity}

Because for taxation we already have working setup, it's easy to do coarse
comparison to existing setup and estimate roughly how many times more faster
computing is needed if changed from yearly tax to daily tax, which require at
least 365 times faster computing rate $R$, to perform.

Day tax computing process does taxation for every day and divides each
income event given sums to income period days, calculating correct sums for
those days. So at average every day is gone through twice and one day peak
load is normal workers income event day when average 30+1, or peak 31+1,
times capasity is needed.

If we take tax administration year 1990\cite{VeroItDeployment} as reference,
when taxes computer calculation get done about at one year with calculation
capasity existed. Then estimating computing power change with inverse of
Koomey's law\cite{KoomeysLaw}\cite{DennardScaling}\cite{PerformanceDevelTop500}
equation \ref{eq:Koomey} on page \pageref{eq:Koomey} to estimate when tax
administration has possibility to 32x365=11680 times higher computing rate
comparing to 1990, to manage payday computing need for daily tax.

\begin{equation} \label{eq:Koomey}
	K(\Delta t) =
	2^{(\frac{\Delta t}{1.57_y})} =
	2^{((t_2-t_1)/1.57_y)} =
	\frac{R_{t_2}}{R_{t_1}}
\end{equation}

\begin{equation} \label{eq:InverseKoomey}
	K^{-1}\left(\frac{R_{t_2}}{R_{t_1}}\right) =
	1.57_y \log_2\left(\frac{R_{t_2}}{R_{t_1}}\right) =
	t_2 - t_1 =
	\Delta t
\end{equation}

\begin{equation} \label{eq:InverseKoomeyTime}
t_1 + 1.57_y \log_2\left(\frac{R_{t_2}}{R_{t_1}}\right) = t_2
\end{equation}

\begin{equation} \label{eq:InverseKoomeyTime20052021}
 \begin{array}{lrcll}
	 1990 + 1.57_y \log_2(& 2&\times&365  &) = 2005 \\
	 1990 + 1.57_y \log_2(&32&\times&365  &) = 2011 \\
	 1990 + 1.57_y \log_2(& 4&\times&365^2&) = 2020 \\
	 1990 + 1.57_y \log_2(& 6&\times&365^2&) = 2021
 \end{array}
\end{equation}

And then estimating worst case scanarions from migration. Worst is when there
come lump sum divided to next three years and taxation correction for past tax
during same day. Estimating, correction may affect max three years back and
lump sum three years forward resulting to max 6x365=2190 times existing
calculation load at one day for this persons data. It in worst case every
person have same problem then 2190x365 more computing power is needed
comparing to year 1990 to do fixes during an day-24h. When checking time with
Inverse Koomeys law \ref{eq:InverseKoomey} on page \pageref{eq:InverseKoomey},
we notice that we have about now capasity to change daily taxation and tolerate
all hiccups about on time a day. Koomey's law has slowed down a bit, but get
worst scanario can be migitated by doing batch works so that all possible
fixations for old taxation are not done at once. And after migration time there
should be corrections only to last 365 days resulting worst case be then
4x365=1460 times existing yearly load for one person one day calculation.

On average is two times more calculation resources is needed in an day than
normal yearly tax needs on year. Normal case is to have 31 times peak loads,
and extreme rare case single user processing may take up to 1460 or 2190 times
what normally needed for one year taxes calculation.

Storage need could be estimated to be about 10 doubles -- 80 bytes per day for
storing sums. It is 175kB per user and one terabyte 1TB for 5.5M users, not
including userdata holding addresses etc. which add some gigabytes GB over
that.

\section{Legal complexity}
\label{legal_complexity}
\index{legal complexity}

As we have seen this daily tax is doable from information technology
performance perspective. Totally other thing is to get this done from national
legal legacy perspective. Of course existing yearly tax fixed reporting
dates can be done by adjusting sliding window (fig:\ref{fig:taxing} 
p.\pageref{fig:taxing}) size and doing summary tasks for certain dates.

Still, most biggest blocker for the sliding window daily tax usage is our
legal legacy habbits which are like patchwork quilt and natural process to
move patches from end to another and perhaps replace some worn patches with
few new even smaller ones. Result is still same length patchwork, but now with
even more mixed and distressing experience than before.

%-END OF INCLUDE FILE----------------------------------------------------------
